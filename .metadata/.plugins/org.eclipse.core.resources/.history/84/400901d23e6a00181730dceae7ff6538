package com.ashutosh.shoppingcart;

import static org.junit.Assert.*;

import org.junit.Assert;
import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import com.ashutosh.shoppingcart.dao.CustomerqueryDAO;
import com.ashutosh.shoppingcart.dao.customerqueryDAO;
import com.ashutosh.shoppingcart.domain.Customerquery;
import com.ashutosh.shoppingcart.domain.customerquery;

public class QueryTest {

	//you supposed to get customerqueryDAO Bean, so that you can call
	//save/update/delete/get/validate methods
	
	//context.getBean("customerqueryDAO")
	//you supposed to get bean only once
	
	private static AnnotationConfigApplicationContext context;
	
	private static CustomerqueryDAO customerqueryDAO;
	
	private static Customerquery customerquery;
	
	
	@BeforeClass
	public static void initialize()
	{
		context= new AnnotationConfigApplicationContext();
		context.scan("com.ashutosh");
		context.refresh();
		
		customerqueryDAO = (CustomerqueryDAO)context.getBean("customerqueryDAO");
		customerquery = (Customerquery) context.getBean("customerquery");
				
	}
	
	
	
	@Test
	public void savecustomerqueryTestCase()
	{
		customerquery = new Customerquery();
		customerquery.setEmailID("ashutosh@gmail.com");
		customerquery.setName("Ashutosh Sharma");
		customerquery.setSubject("subject");
		customerquery.setMessage("message");
		
		
		
		
		boolean result = customerqueryDAO.save(customerquery);
		Assert.assertEquals("save customerquery",true,result );
	}
	
	
}







